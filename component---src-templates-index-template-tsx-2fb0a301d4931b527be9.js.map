{"version":3,"file":"component---src-templates-index-template-tsx-2fb0a301d4931b527be9.js","mappings":"wPAiEA,UAhCc,SAACA,GACb,IAAQC,EAAsBD,EAAtBC,KAAMC,EAAgBF,EAAhBE,YACd,OACEC,EAAAA,cAACC,EAAAA,EAAM,KACJH,EAAKI,cAAcC,MAAMC,KAAI,SAACC,GAAI,OACjCL,EAAAA,cAAAA,MAAAA,CAAKM,IAAKD,EAAKE,MACbP,EAAAA,cAAAA,KAAAA,KAAIA,EAAAA,cAACQ,EAAAA,KAAI,CAACC,GAAE,UAAYJ,EAAKE,MAAO,UAASF,EAAKK,MAAK,MACvDV,EAAAA,cAAAA,MAAAA,KACEA,EAAAA,cAACW,EAAAA,EAAa,CACZC,UAAUC,EAAAA,EAAAA,GAAgBR,EAAKS,MAC/BC,cAAe,CAACC,EAAAA,GAChBC,cAAe,CAACC,EAAAA,EAAWC,EAAAA,KAE7BnB,EAAAA,cAAAA,MAAAA,OAEFA,EAAAA,cAAAA,KAAAA,MACI,IAERA,EAAAA,cAAAA,MAAAA,CAAKoB,MAAO,CAACC,QAAS,OAAQC,eAAgB,iBACvB,GAApBvB,EAAYwB,KAAY,KAAOvB,EAAAA,cAACQ,EAAAA,KAAI,CAACC,GACpCV,EAAYwB,KAAOxB,EAAYyB,MAAQ,EAAI,EAAC,UAC/BzB,EAAYwB,KAAOxB,EAAYyB,MAAQ,GAAC,IACjD,KACL,QACAzB,EAAYwB,KAAOxB,EAAYyB,MAAQ,GAAKzB,EAAY0B,WACrD,KACAzB,EAAAA,cAACQ,EAAAA,KAAI,CAACC,GAAE,UAAWV,EAAYwB,KAAOxB,EAAYyB,MAAQ,GAAC,KAAI,SAI3E,EAIO,IAAME,EAAO,SAACC,GAAe,OAClC3B,EAAAA,cAAC4B,EAAAA,EAAG,CAACC,SAAUF,EAAKG,SAASD,SAASE,QAAQ,cAAc,KACtD,C","sources":["webpack://ewcolab/./src/templates/index-template.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { graphql, PageProps, Link } from \"gatsby\"\nimport ReactMarkdown from \"react-markdown\"\nimport remarkGfm from 'remark-gfm'\nimport { convertImageUrl } from '../common/image'\nimport Layout from \"../components/layout\"\nimport rehypeRaw from \"rehype-raw\" \nimport rehypeHighlight from \"rehype-highlight\"\nimport \"highlight.js/styles/github.css\"\nimport { SEO } from \"../components/seo\"\n\ntype DataProps = {\n  allStrapiPost: {\n    nodes: {\n      slug: string,\n      title: string,\n      abstract: string,\n      body: string,\n      author?: { name: string },\n      category?: { name: string },\n      Preview?: { url: string, name: string },\n      createAt: string,\n      tag?: { name: string }[],\n    }[]\n  }\n}\n\ntype PageContextProps = {\n  skip: number,\n  limit: number,\n  totalPosts: number\n}\n\nconst Index = (pageProps: PageProps<DataProps, PageContextProps>) => {\n  const { data, pageContext } = pageProps\n  return (\n    <Layout>\n      {data.allStrapiPost.nodes.map((post) => (\n        <div key={post.slug}>\n          <h2><Link to={`/pages/${post.slug}`}>Title: {post.title} </Link></h2>\n          <div>\n            <ReactMarkdown\n              children={convertImageUrl(post.body)}\n              remarkPlugins={[remarkGfm]}\n              rehypePlugins={[rehypeRaw, rehypeHighlight]}\n            />\n            <div></div>\n          </div>\n          <hr />\n        </div>\n      ))}\n      <div style={{display: 'flex', justifyContent: 'space-evenly'}}>\n        {pageContext.skip == 0 ? null : <Link to={\n          pageContext.skip / pageContext.limit - 1 > 0\n            ? `/page-${pageContext.skip / pageContext.limit - 1}/`\n            : '/'\n        }>next</Link>}\n        {pageContext.skip * pageContext.limit + 1 >= pageContext.totalPosts\n          ? null\n          : <Link to={`/page-${pageContext.skip / pageContext.limit + 1}/`}>prev</Link>}\n      </div>\n    </Layout>\n  )\n}\n\nexport default Index\n\nexport const Head = (page: PageProps) => (\n  <SEO pathname={page.location.pathname.replace(/^(blog\\/\\.)/,\"\")}>\n  </SEO>\n)\n\n\nexport const IndexQuery = graphql`\nquery pagedQuery($limit: Int!, $skip: Int!) {\n    allStrapiPost(\n      sort: {fields: createdAt, order: DESC}\n      skip: $skip\n      limit: $limit\n    ) {\n      nodes {\n        slug\n        abstract\n        category {\n          name\n        }\n        previewImage {\n          url\n          name\n        }\n        createdAt\n        author {\n          name\n        }\n        tags {\n          name\n        }\n        title\n        body\n      }\n    }\n  }\n`\n\n"],"names":["pageProps","data","pageContext","React","Layout","allStrapiPost","nodes","map","post","key","slug","Link","to","title","ReactMarkdown","children","convertImageUrl","body","remarkPlugins","remarkGfm","rehypePlugins","rehypeRaw","rehypeHighlight","style","display","justifyContent","skip","limit","totalPosts","Head","page","SEO","pathname","location","replace"],"sourceRoot":""}